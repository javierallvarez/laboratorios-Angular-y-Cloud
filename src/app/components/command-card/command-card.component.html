<p-card styleClass="transition-all duration-300 border-2 border-gray-200 rounded-2xl">
  <!-- Card header -->
  <ng-template pTemplate="header">
    <div class="p-6 bg-gradient-to-r from-primary-50 via-accent-light to-secondary-50 border-b-2 border-accent rounded-t-2xl">
      <div class="flex items-start justify-between mb-4">
        <div class="flex-1">
          <h3 class="text-2xl font-bold text-gray-900 mb-3 flex items-center">
            <i class="pi pi-bookmark text-primary-600 mr-3"></i>
            {{ command.title }}
          </h3>
          <app-tag 
            [label]="command.category" 
            [variant]="getCategorySeverity()"
            customClass="text-base font-bold">
          </app-tag>
        </div>
        <p-button
          [icon]="copied ? 'pi pi-check' : 'pi pi-copy'"
          [severity]="copied ? 'success' : 'primary'"
          (onClick)="copyCommand($event)"
          styleClass="font-bold"
          pRipple>
        </p-button>
      </div>
      
      <p class="text-gray-700 leading-relaxed text-base mt-4">
        <i class="pi pi-info-circle text-primary-500 mr-2"></i>
        {{ command.description }}
      </p>
    </div>
  </ng-template>

  <!-- Main content -->
  <div class="space-y-6 px-6">
    <!-- Command section -->
    <div>
      <div class="flex items-center mb-3">
        <i class="pi pi-terminal text-green-600 mr-2 text-lg"></i>
        <h4 class="text-sm font-bold text-gray-600 uppercase tracking-wider mt-2">Command</h4>
      </div>
      <app-terminal-block 
        [content]="command.command" 
        type="command"
        [allowCopy]="false">
      </app-terminal-block>
    </div>

    <p-divider></p-divider>

    <!-- Tags -->
    <div>
      <div class="flex items-center mb-3">
        <i class="pi pi-tags text-primary-600 mr-2 text-lg"></i>
        <h4 class="text-sm font-bold text-gray-600 uppercase tracking-wider">Tags</h4>
      </div>
      <div class="flex flex-wrap gap-2">
        <app-tag 
          *ngFor="let tag of command.tags"
          [label]="tag"
          prefix="#"
          variant="primary">
        </app-tag>
      </div>
    </div>

    <p-divider></p-divider>

    <!-- Toggle button for example -->
    <div class="text-center">
      <p-button
        [icon]="showOutput ? 'pi pi-chevron-up' : 'pi pi-chevron-down'"
        [label]="showOutput ? 'Hide output example' : 'View output example'"
        (onClick)="toggleOutput()"
        severity="secondary"
        [outlined]="true"
        styleClass="w-full font-bold text-sm flex gap-2 items-center justify-center"
        pRipple>
      </p-button>
    </div>
  </div>

  <!-- Footer with example (collapsible) -->
  <ng-template pTemplate="footer">
    <div *ngIf="showOutput" class="bg-gradient-to-b from-gray-50 to-white px-6 py-6 border-t-2 border-gray-200 rounded-b-2xl">
      <div class="space-y-6 animate-fadeIn">
        <!-- Headers -->
        <div>
          <div class="flex items-center mb-3">
            <i class="pi pi-database text-secondary-600 mr-2 text-lg"></i>
            <h4 class="text-base font-bold text-gray-700">Output fields</h4>
          </div>
          <div class="flex flex-wrap gap-2">
            <app-tag
              *ngFor="let header of command.example.headers"
              [label]="header"
              variant="info">
            </app-tag>
          </div>
        </div>

        <p-divider></p-divider>

        <!-- Output -->
        <div>
          <div class="flex items-center mb-3">
            <i class="pi pi-file-export text-purple-600 mr-2 text-lg"></i>
            <h4 class="text-base font-bold text-gray-700">Output example</h4>
          </div>
          <app-terminal-block 
            [content]="command.example.output" 
            title="Terminal Output" 
            type="output">
          </app-terminal-block>
        </div>
      </div>
    </div>
  </ng-template>
</p-card>
